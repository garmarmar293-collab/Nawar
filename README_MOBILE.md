
# دليل تحويل تطبيق "خردوات المامو" إلى APK (أندرويد)

تم تجهيز هذا المشروع ليعمل كتطبيق هاتف باستخدام **Capacitor**. اتبع الخطوات التالية بدقة لاستخراج ملف APK وتثبيته على هاتفك.

## المتطلبات المسبقة
1. **Node.js**: مثبت على جهازك.
2. **Android Studio**: مثبت مع حزم Android SDK اللازمة.

---

## الخطوة 1: بناء المشروع
افتح موجه الأوامر (Terminal) ونفذ الأوامر التالية بالترتيب لتثبيت المكتبات وبناء ملفات الويب:

```bash
npm install
npm run build
```

## الخطوة 2: تهيئة الأندرويد
أضف منصة الأندرويد للمشروع:

```bash
npx cap add android
```

## الخطوة 3: إضافة أذونات الكاميرا (هام جداً!)
لكي يعمل "رادار المامو" (Smart Meter) و"مستشار الدهان" (Paint Visualizer)، يجب منح التطبيق صلاحية الوصول للكاميرا.

1. بعد تنفيذ الأمر السابق، سيظهر مجلد جديد اسمه `android`.
2. اذهب إلى المسار التالي داخل المشروع:
   `android/app/src/main/AndroidManifest.xml`
3. افتح الملف وأضف الأسطر التالية **قبل** وسم `<application>` مباشرة:

```xml
<!-- أذونات الإنترنت والكاميرا وتحديد الموقع -->
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.CAMERA" />
<uses-feature android:name="android.hardware.camera" />
<uses-feature android:name="android.hardware.camera.autofocus" />
```

## الخطوة 4: مزامنة وفتح Android Studio
الآن سنقوم بنقل الملفات النهائية إلى بيئة الأندرويد:

```bash
npx cap sync
npx cap open android
```

## الخطوة 5: استخراج ملف APK
1. سيفتح **Android Studio** تلقائياً.
2. انتظر حتى ينتهي من تحميل الحزم (Gradle Sync).
3. من القائمة العلوية، اختر **Build** > **Build Bundle(s) / APK(s)** > **Build APK(s)**.
4. عند الانتهاء، ستظهر رسالة في الزاوية اليمنى السفلية، اضغط على **locate** للعثور على ملف التطبيق.
5. انسخ الملف لهاتفك وقم بتثبيته (تأكد من تفعيل "التثبيت من مصادر غير معروفة" على هاتفك).

---

## ملاحظات هامة
* **زر الرجوع**: في الأندرويد، زر الرجوع سيعمل تلقائياً لإغلاق القوائم أو العودة للصفحة السابقة بفضل دعم Capacitor المدمج.
* **النوتش (Notch)**: تم تعديل التصميم (`viewport-fit=cover` و `pt-safe-area`) ليظهر بشكل جميل على الهواتف الحديثة دون أن يغطي "النوتش" رأس التطبيق.
